# Исследовательская работа в рамках проектного тура специализации Яндекс Лицея "Анализ Данных" - Анализ факторов развития заболевания.

## Описание проекта

* Часто бывает так, что после сложных полостных операций (например, на сердце), у пациентов развивается острое поражение почек (ОПП) - опасное для жизни состояние. На это влияет большое количество факторов, как связанных с состоянием здоровья пациента, так и с параметрами перенесенной операции. Для диагностики пациенты наблюдаются лечащим врачом в постоперационный период, а также у них берутся анализы крови.
* Условно параметры предоставленных данных можно разделить на относящиеся к анамнезу (хронические заболевания, состояние внутренних органов), результаты анализов (в данном случае - анализ крови) и интраоперационные параметры (описание хода операции). Для упрощения задачи в таблицах ниже выделены параметры, наиболее важные для прогноза ОПП и наиболее сильно связанные с работой почек. В первую очередь имеет смысл брать эти параметры, однако, ограничиваться ими не обязательно. 

Финальный дашборд исследования - [ссылка](https://datalens.yandex/h54eeny150n86)

Презентация проекта - [ссылка](https://drive.google.com/file/d/1rhBSU3r-Aojo2C5rF9Oe2BKKxYiecwzc/view?usp=sharing)

## Описание полей

### Основные параметры:

- **Развитие ОПП:** Факт появления острого поражения почек (есть/нет)
- **ХБП стадия:** Стадия Хронической Болезни Почек
- **Возраст:** Возраст пациента в годах
- **Пол:** М-1 / Ж-0
- **Гипертоническая болезнь:** Есть-1 / Нет-0
- **Сахарный диабет:** Есть-1 / Нет-0
- **Стенокардия:** Есть-1 / Нет-0
- **Инфаркт миокарда:** Есть-1 / Нет-0
- **Мерцательная аритмия:** Есть-1 / Нет-0
- **Желудочковая экстрасистолия:** Есть-1 / Нет-0
- **А-В блокада:** Есть-1 / Нет-0
- **Блокада ножек пучка Гиса:** Есть-1 / Нет-0
- **САД:** Систолическое давление пациента, в мм рт.ст.
- **ДАД:** Диастолическое давление пациента, мм.рт.ст.

### Показатели крови:

- **Креатинин:** Показатель крови, мкмоль/л
- **Мочевина:** Показатель крови, ммоль/л
- **СКФ:** Показатель крови, мл/мин
- **Калий, Натрий, Хлориды, Кальций:** Показатели крови в соответствующих единицах измерения
- **РН, ВЕ, НСО3, РО2, РСО2, Оксигем, Общ.СО2:** Показатели крови в различных единицах измерения
- **Гемоглобин, Лейкоциты, Тромбоциты:** Показатели крови

### Параметры сердечной активности:

- **ЧСС:** Частота сердечных сокращений в мин.
- **Интервал Q-T:** Кардиограмма, расстояние от начала комплекса QRS до завершения зубца T, мс
- **QRS интервал:** На кардиограмме
- **Фракция изгнания:** В процентах
- **Давл. в ЛА:** Давление в лёгочной артерии, мм рт.ст.
- **УО, МО:** Ударный и минутный объём сердца, в мл и л соответственно
- **ДД ЛЖ, СД ЛЖ:** Диастолическая и систолическая дисфункция левого желудочка, в см
- **КДО, КСО:** Конечный диастолический и систолический объём, в мл

### Другие параметры:

- **Масса миокарда ЛЖ, Размер левого предсердия:** В граммах и см соответственно
- **АлАт, АсАт, Холестерин, Триглицериды:** Показатели крови в соответствующих единицах измерения
- **ЛПОНП, ЛПНП, Общий белок:** Показатели крови
- **АЧТВ:** Активированное частичное тромбопластиновое время, в секундах
- **ИМТ:** Индекс массы тела, в кг/м2
- **Толщина паренхимы почек:** В мм
- **АИК:** Наличие аппарата искусственного кровообращения, нет-0 / да-1
- **Количество шунтов:** В штуках
- **Длительность операции, Длительность АИК, Время пережатия аорты:** В минутах
- **Объем кровопотерии, Объем гемотрансфузии, Объем инфузий:** В мл
- **Диурез:** В мл

## Состояния и биохимические параметры, исключенные из анализа по целевой переменной

- **Стенокардия**
- **АР**
- **Мерцательная аритмия**
- **Желудочковая экстрасистолия**
- **Атрио-вентрикулярная блокада**
- **Блокада ножек пучка Гиса**
- **Интервал Q-T**
- **QRS**
- **Масса миокарда левого желудочка**
- **АЧТВ (показатель свертываемости крови)**
- **Давление в легочной артерии**
- **Ударный объем**
- **Минутный объем**
- **Диастолический размер левого желудочка**
- **Систолический размер левого желудочка**
- **Конечный диастолический объем**
- **Конечный систолический объем**
- **Конечный диастолический размер правого желудочка**
- **Размер левого предсердия**

## Нормальные значения биохимических параметров

| Параметр            | Норма            | Единицы измерения |
|---------------------|------------------|-------------------|
| ВЕ                  | -2,5...2,5       | ммоль/л           |
| HCO3                | 22-26            | ммоль/л           |
| РО2                 | 80-150           | мм рт.ст.         |
| РСО2                | 35-45            | мм рт.ст.         |
| Оксигемоглобин      | 94-98            | %                 |
| Общее давление CO2  | 32-45            | мм рт.ст.         |
| Гемоглобин          | 130-160          | г/л               |
| Лейкоциты           | 4е9-9е9          | шт/л              |
| Тромбоциты          | 180е9-360е9      | шт/л              |
| Общий белок         | 62-81            | г/л               |
| АлАт, АсАт, ЛПНП,   | -                |                   |
| ЛПОНП               | -                |                   |
| Натрий              | 135-146          | ммоль/л           |
| Хлориды             | 97-108           | ммоль/л           |
| Кальций             | 2,15-2,5         | ммоль/л           |

Эти параметры могут отклоняться от нормы при поражениях почек,
**но обратное строго говоря не верно** (их отклонение может
говорить не только о поражении почек)

## Важные параметры для прогноза

| Параметр                         | Норма          | Единицы измерения | Примечание                                       |
|----------------------------------|----------------|-------------------|--------------------------------------------------|
| Возраст                          | -              | -                 |                                                  |
| Диабет                           | -              | -                 | Наличие увеличивает риск ОПП                     |
| ГБ                               | -              | -                 | Наличие увеличивает риск ОПП                     |
| ХБП                              | -              | -                 | 5 стадий, чем больше цифра, тем хуже            |
| Систолическое и диастолическое   |                | мм рт.ст.         | давление                                         |
| давление                         |                |                   |                                                  |
| Частота сокращений сердца        |                | уд/мин            |                                                  |
| PH                               | 7,35-7,45      | -                 |                                                  |
| Фракция изгнания                 | >50%           | -                 | Сила, с которой левый желудочек выталкивает кровь |
| Холестерин                       | 3,6-7,8        | ммоль/л           | Высокий уровень увеличивает риск ОПП              |
| Креатинин                        | М-74-110, Ж-44 | мкг/л             |                                                  |
| Мочевина в крови                 | 2,9-7,5        | ммоль/л           | Чем больше, тем хуже                             |
| СКФ                              | 97-137         | мл/мин            |                                                  |
| Калий                            | 3,5-5,1        | ммоль/л           | Если высокий - почки не работают                 |
| ИМТ                              | -              | -                 | Индекс массы тела                                |
| Толщина паренхимы почек          | 1,5-2,5        | см                | Изменяется при ХБП, чем меньше, тем хуже         |

## Интраоперационные параметры

| Параметр                   | Единицы измерения | Влияние на риск ОПП                                      |
|----------------------------|-------------------|-----------------------------------------------------------|
| Аппарат искусственного     | -                 | Сильно влияет на риски ОПП                               |
| кровообращения             |                   |                                                           |
| Количество шунтов           | шт.               | Влияет на длительность операции                          |
| Длительность работы АИК     | мин               | Сильно влияет на почки, но в меньшей степени, чем пережатие аорты |
| Длительность операции       | мин               | Косвенно влияет на риски ОПП, но не каждая длительная операция подразумевает пережатие аорты или искусственное кровообращение |
| Время пережатия аорты       | мин               | 90 мин - критический период. Факт пережатия аорты сильно влияет на почки |
| Объем кровопотери          | мл                | Сильно влияет на почки                                    |
| Объем гемотрансфузии       | мл                | Влияет, но меньше чем кровопотеря                         |
| Объем инфузий              | мл                | Вливание всего, кроме крови. Не сильно влияет             |
| Диурез                     | мл                | Количество мочи, удаленной в ходе операции. Норма - 15 мл/кг в час. Отклонения могут говорить о проблемах с почками |

* Требуется проанализировать имеющиеся данные, выявить факторы, влияющие на риски развития ОПП, построить регрессионную модель прогнозирования одного из факторов (ниже будет подробно описано задание), подготовить дашборд и презентацию (не более 7 слайдов). **Заказчик - главный врач больницы**.

# 1. Исследование данных на качество

* Привести формат названий столбцов к pep-8 формату
* Исследовать тип данных, привести данные к правильному типу, где это необходимо
* Данные содержат аномальные значения (абсурдные или физиологически невозможные). Необходимо их выявить и обработать
* Обработать пропуски в данных, обосновать принятое решение по пропускам
* Проверить явные дубликаты
* Сформировать дополнительный столбец с данными по пациентам, прооперированным с использованием АИК, которым проводилось переливание крови
* Провести аналитический и графический анализ данных

# 2. Проведение расчётов и исследований

Перечень задач:

* Посчитать процент пациентов с хроническими заболеваниям (сахарный диабет, гипертония, хроническая болезнь почек) для групп “есть ОПП/нет ОПП”
* Ввести новый фактор (описать и обосновать выбор фактора и его значений) на основе столбца “Индекс массы тела”. Посчитать количество пациентов, имеющих проблемы с сердцем (выбор перечня проблем должен быть описан и обоснован) для каждой группы. Сделать вывод.
* Исследовать зависимость длительности операции от факта перенесенного в прошлом инфаркта миокарда
* Верно ли, что у пациентов с ИМТ выше нормы будет повышенный уровень холестерина?
* Верно ли, что даже без хронических болезней почек с возрастом толщина паренхимы почек уменьшается
* Проверить адекватность поставленного диагноза по стадии хронической болезни почек (найти параметр, по которому ставится диагноз, использовать данные из внешних источников)
* Исследовать корреляцию между параметрами. Для наиболее сильных корреляций обосновать, имеет ли это реальный смысл или же просто особенность данных

# 3. Проверка гипотез
* Выдвинуть и проверить не менее 10 гипотез по влиянию разных факторов на риск развития ОПП. Факторы должны быть из разных групп (анамнез, биохимия, интраоперационные)

# 4. Регрессионное моделирование
* Построить регрессионную модель одного из количественных признаков, связанного с целевым признаком . Выбор признака и факторов - на усмотрение исполнителя. 

# 5. Выводы и презентация
* Описать результат выполненной работы
* Сделать дашборд
* Подготовить презентацию для заказчика (не более 7 слайдов)
